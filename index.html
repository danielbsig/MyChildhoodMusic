<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.1.0.js"></script>

    <title>My Childhood Music</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>My Childhood Music</h1>
        <h2>A project created in the Reykjav√≠k Music Hack day 2012</h2>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h3>Find music you heard when you were young</h3>
      </section>
    </div>

    <div id="ageInput" data-bind="visible: ageInputVisible">
      <label for="txtAge">In what year were you born?</label>
      <input type="text" id="txtAge" name="txtAge" data-bind="value: birthYear"/>
      <button data-bind="click: onEnterAge">Submit</button>
    </div>

    <table data-bind="visible: hasSongs">
        <thead>
            <tr>
                <th>Song</th>
                <th>Artist</th>
            </tr>
        </thead>
        <tfoot></tfoot>
        <tbody data-bind="foreach: songs">
          <tr>
            <td data-bind="text: title"></td>
            <td data-bind="text: artist"></td>
          </tr>
        </tbody>
    </table>

    

    <script type="text/javascript">

      function Song( title, artist ){
        this.title = ko.observable( title );
        this.artist = ko.observable( artist );
      }

      var ViewModel = function( ){
        var self = this;

        self.ageInputVisible = ko.observable( "true" );
        self.birthYear = ko.observable("1973");
        self.songs     = ko.observableArray( [] );

        self.hasSongs  = ko.computed( function( ){
            return self.songs().length > 0;
         }, self );

        self.onEnterAge = function( ){
          self.ageInputVisible( false );
          self.songs.push( new Song( "My Life", "Billy Joel" ) );
        };

      };

      ko.applyBindings( new ViewModel( ) );

    </script>
  </body>
</html>